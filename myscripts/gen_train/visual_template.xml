<?xml version="1.0" encoding="utf-8"?>
<scene version="2.0.0">
	<integrator id="integrator" type="volpath">
		<integer name="max_depth" value="128"/>
	</integrator>

	<sensor id="Camera-camera" type="perspective">
		<float name="fov" value="22.8952"/>
		<float name="near_clip" value="0.01"/>
		<float name="far_clip" value="100"/>
		<string name="fov_axis" value="smaller"/>

		<transform name="to_world">
			<matrix value="0.553695 -0.46082 -0.69359 0.113425 0.83272 0.30641 0.461184 -0.0720183 -8.26282e-08 0.832921 -0.553392 0.0930341 0 0 0 1"/>
			<!-- <lookat origin="0, 0, 0.11" target="0, 0, 0" up="1, 0, 0"/> -->
		</transform>

		<sampler id="Camera-camera_sampler" type="independent">
			<integer name="sample_count" value="$spp"/>
			<integer name="seed" value="$seed"/>
		</sampler>

		<film id="Camera-camera_film" type="hdrfilm">
			<integer name="width" value="256"/>
			<integer name="height" value="256"/>
			<rfilter type="gaussian"/>
		</film>
	</sensor>

	<emitter type="envmap" id="Area_002-light">
		<string name="filename" value="envmap.exr"/>
		<transform name="to_world">
			<rotate y="1" angle="-180"/>
			<matrix value="-0.224951 -0.000001 -0.974370 0.000000 -0.974370 0.000000 0.224951 0.000000 0.000000 1.000000 -0.000001 8.870000 0.000000 0.000000 0.000000 1.000000 "/>
		</transform>
		<float name="scale" value="1"/>
	</emitter>


	<medium type="homogeneous" name="interior" id="part_medium">
	 	<float name="scale" value="$scale_m"/>
        <rgb name="sigma_t" value="$sigma_t"/>
        <rgb name="albedo" value="$albedo"/>
        <phase type="hg">
			<float name="g" value="$g"/>
		</phase>
    </medium>

    <bsdf type="dielectric" id="medium_bsdf">
        <float name="int_ior" value="$eta"/>
    </bsdf>

	<texture type="checkerboard" id="planetex">
		<rgb name="color0" value="0.4"/>
		<rgb name="color1" value="0.2"/>
	</texture>

	<bsdf type="diffuse" id="planemat">
		<ref name="reflectance" id="planetex"/>
	</bsdf>

	<!-- Leather plate -->
	<shape id="Plane_001-mesh_0" type="serialized">
		<string name="filename" value="$serialized"/>
		<integer name="shape_index" value="0"/>
		<transform name="to_world">
			<matrix value="0.025 0 0 0 0 0.025 0 0 0 0 0.0354764 0 0 0 0 1"/>
		</transform>
		
		<ref id="part_medium" name="interior"/>
		<ref id="medium_bsdf"/>
	</shape>

	<!-- Floor -->
	<shape id="Plane_006-mesh_0" type="serialized">
		<string name="filename" value="leather.serialized"/>
		<integer name="shape_index" value="1"/>
		<transform name="to_world">
			<matrix value="0.15 0 0 0 0 0.15 0 0 0 0 0.101701 0 0 0 0 1"/>
		</transform>
		<ref name="bsdf" id="planemat"/>
	</shape>

</scene>